function i(e){return typeof e!="object"?e:Array.isArray(e)?e.filter(r=>r!=null).map(r=>i(r)):Object.fromEntries(Object.entries(e).filter(([r,n])=>n!=null).map(([r,n])=>[r,i(n)]))}function u(e,r){if(typeof e!="object")return e;if(Array.isArray(e))for(let[n,t]of e.entries())e[n]=u(t,r);else for(let[n,t]of Object.entries(e))e[n]=u(t,r);return new Proxy(e,r)}var o={preset:(e,r)=>o.func(e,r),func:(e,r)=>{if(!e||typeof e!="object")return;let t=u(e,{set(y,a,f){return Array.isArray(y)&&a==="length"?(y[a]=f,!0):(y[a]=f,t=JSON.parse(JSON.stringify(t)),r(t),!0)},deleteProperty(y,a){return a in y&&(delete y[a],t=i(JSON.parse(JSON.stringify(t))),r(t)),!0}});return t}};var c=(e,r)=>{let n=r?void 0:e,t=(y,a)=>(y.then(f=>a(f)),a(n),n);return n?t:t(e,r)};var s=e=>({preset:r=>(e(r),r)});export{c as Await,o as StateObject,s as Watch};
