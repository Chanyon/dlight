function o(e){return typeof e!="object"?e:Array.isArray(e)?e.filter(t=>t!=null).map(t=>o(t)):Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null).map(([t,n])=>[t,o(n)]))}function i(e,t){if(typeof e!="object")return e;if(Array.isArray(e))for(let[n,r]of e.entries())e[n]=i(r,t);else for(let[n,r]of Object.entries(e))e[n]=i(r,t);return new Proxy(e,t)}var u={preset:(e,t)=>u.func(e,t),func:(e,t)=>{if(!e||typeof e!="object")return;let r=i(e,{set(y,a,f){return y[a]=f,r=JSON.parse(JSON.stringify(r)),t(r),!0},deleteProperty(y,a){return a in y?(delete y[a],r=o(JSON.parse(JSON.stringify(r))),t(r),!0):!1}});return r}};var c=(e,t)=>{let n=t?void 0:e,r=(y,a)=>(y.then(f=>a(f)),a(n),n);return n?r:r(e,t)};var s=e=>({preset:t=>(e(),t)});export{c as Await,u as StateObject,s as Watch};
